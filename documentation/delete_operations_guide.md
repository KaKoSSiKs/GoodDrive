# üóëÔ∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–¥–∞–ª–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö –≤ GoodDrive

## üìã –û–±–∑–æ—Ä

–í —Å–∏—Å—Ç–µ–º–µ GoodDrive —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- **–¢—Ä–µ–±—É–µ—Ç—Å—è:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`IsAuthenticated`)
- **Endpoint:** `DELETE /api/orders/{id}/`

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
- **–¢—Ä–µ–±—É–µ—Ç—Å—è:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)
- **Endpoint:** `DELETE /api/customers/{id}/`

### –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–¢—Ä–µ–±—É–µ—Ç—Å—è:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **Endpoints:**
  - `DELETE /api/expenses/{id}/` - —Ä–∞—Å—Ö–æ–¥—ã
  - `DELETE /api/cash-transactions/{id}/` - –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∫–∞—Å—Å–µ

## üõ†Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:
- ‚úÖ –£–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ (`OrderItem`)
- ‚úÖ –£–¥–∞–ª—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (`OrderStatusHistory`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –≤ CRM
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–¥–∞–ª–µ–Ω–∏–∏

### API Endpoint
```http
DELETE /api/orders/{id}/
Authorization: Token <your-auth-token>
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl)
```bash
curl -X DELETE http://localhost:8000/api/orders/1/ \
  -H "Authorization: Token YOUR_TOKEN"
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (PowerShell)
```powershell
$headers = @{
    "Authorization" = "Token YOUR_TOKEN"
}
Invoke-WebRequest -Uri "http://localhost:8000/api/orders/1/" `
  -Method DELETE `
  -Headers $headers
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "status": "success",
  "message": "–ó–∞–∫–∞–∑ #GD20251111120530A1B2C3D4 —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω",
  "deleted_order": {
    "order_number": "GD20251111120530A1B2C3D4",
    "customer_phone": "+79991234567",
    "items_count": 3,
    "total_amount": "15000.00"
  }
}
```

### –û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ
```json
{
  "status": "error",
  "message": "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞: ..."
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è:
```
[WARNING] –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ #GD20251111120530A1B2C3D4 | 
–ö–ª–∏–µ–Ω—Ç: +79991234567 | –ü–æ–∑–∏—Ü–∏–π: 3 | –°—É–º–º–∞: 15000.00 ‚ÇΩ | 
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin
```

---

## üë• –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞:
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `?force=true` –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–∫–∞–∑—ã
- ‚úÖ –ó–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–¥–∞–ª–µ–Ω–∏–∏

### API Endpoint
```http
DELETE /api/customers/{id}/
DELETE /api/customers/{id}/?force=true  # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤
```bash
curl -X DELETE http://localhost:8000/api/customers/1/ \
  -H "Authorization: Token YOUR_TOKEN"
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏
```bash
# –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –±–µ–∑ force=true
curl -X DELETE http://localhost:8000/api/customers/1/
# –û—Ç–≤–µ—Ç: –û—à–∏–±–∫–∞

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
curl -X DELETE "http://localhost:8000/api/customers/1/?force=true"
```

### PowerShell
```powershell
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
Invoke-WebRequest -Uri "http://localhost:8000/api/customers/1/?force=true" `
  -Method DELETE
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "status": "success",
  "message": "–ö–ª–∏–µ–Ω—Ç –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω",
  "deleted_customer": {
    "id": 1,
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+79991234567",
    "email": "ivan@example.com",
    "total_orders": 5,
    "total_spent": "50000.00",
    "orders_in_system": 5
  },
  "warning": "–ó–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ –æ—Å—Ç–∞–ª–∏—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ"
}
```

### –û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ (–µ—Å—Ç—å –∑–∞–∫–∞–∑—ã, –Ω–µ—Ç force)
```json
{
  "status": "error",
  "message": "–£ –∫–ª–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å 5 –∑–∞–∫–∞–∑(–æ–≤). –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä ?force=true",
  "customer": {
    "phone": "+79991234567",
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "orders_count": 5
  }
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
[WARNING] –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ (+79991234567) | 
–ó–∞–∫–∞–∑–æ–≤: 5 | Force: true | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin
```

---

## üí∞ –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ä–∞—Å—Ö–æ–¥–∞:
- ‚úÖ –£–¥–∞–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –æ —Ä–∞—Å—Ö–æ–¥–µ
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã

### API Endpoint
```http
DELETE /api/expenses/{id}/
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```bash
curl -X DELETE http://localhost:8000/api/expenses/1/
```

### PowerShell
```powershell
Invoke-WebRequest -Uri "http://localhost:8000/api/expenses/1/" -Method DELETE
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "status": "success",
  "message": "–†–∞—Å—Ö–æ–¥ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω",
  "deleted_expense": {
    "id": 1,
    "category": "–ê—Ä–µ–Ω–¥–∞",
    "amount": "50000.00",
    "date": "2025-11-01",
    "description": "–ê—Ä–µ–Ω–¥–∞ –æ—Ñ–∏—Å–∞ –∑–∞ –Ω–æ—è–±—Ä—å"
  }
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
[WARNING] –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ ID:1 | –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ê—Ä–µ–Ω–¥–∞ | 
–°—É–º–º–∞: 50000.00 ‚ÇΩ | –î–∞—Ç–∞: 2025-11-01 | 
–û–ø–∏—Å–∞–Ω–∏–µ: –ê—Ä–µ–Ω–¥–∞ –æ—Ñ–∏—Å–∞ –∑–∞ –Ω–æ—è–±—Ä—å | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin
```

---

## üíµ –£–¥–∞–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∫–∞—Å—Å–µ

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–≤—è–∑—å —Å –∑–∞–∫–∞–∑–æ–º (–Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å –∫–∞—Å—Å—ã
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### API Endpoint
```http
DELETE /api/cash-transactions/{id}/
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```bash
curl -X DELETE http://localhost:8000/api/cash-transactions/1/
```

### PowerShell
```powershell
Invoke-WebRequest -Uri "http://localhost:8000/api/cash-transactions/1/" -Method DELETE
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "status": "success",
  "message": "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞",
  "deleted_transaction": {
    "id": 1,
    "type": "income",
    "type_display": "–ü—Ä–∏—Ö–æ–¥",
    "amount": "5000.00",
    "payment_method": "cash",
    "date": "2025-11-11",
    "description": "–û–ø–ª–∞—Ç–∞ –Ω–∞–ª–∏—á–Ω—ã–º–∏"
  },
  "current_balance": {
    "income": "500000.00",
    "expense": "150000.00",
    "balance": "350000.00"
  }
}
```

### –û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ (—Å–≤—è–∑—å —Å –∑–∞–∫–∞–∑–æ–º)
```json
{
  "status": "error",
  "message": "–≠—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å–≤—è–∑–∞–Ω–∞ —Å –∑–∞–∫–∞–∑–æ–º #GD20251111120530A1B2C3D4. –£–¥–∞–ª–∏—Ç–µ –∑–∞–∫–∞–∑ –∏–ª–∏ –æ—Ç–≤—è–∂–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.",
  "order_number": "GD20251111120530A1B2C3D4"
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```
[WARNING] –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ID:1 | –¢–∏–ø: –ü—Ä–∏—Ö–æ–¥ | 
–°—É–º–º–∞: 5000.00 ‚ÇΩ | –°–ø–æ—Å–æ–±: –ù–∞–ª–∏—á–Ω—ã–µ | –î–∞—Ç–∞: 2025-11-11 | 
–û–ø–∏—Å–∞–Ω–∏–µ: –û–ø–ª–∞—Ç–∞ –Ω–∞–ª–∏—á–Ω—ã–º–∏ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin
```

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ–ø–µ—Ä–∞—Ü–∏–π

| –û–±—ä–µ–∫—Ç | Endpoint | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | –ü—Ä–æ–≤–µ—Ä–∫–∏ | –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ |
|--------|----------|-------------|----------|-------------------|
| **–ó–∞–∫–∞–∑** | `DELETE /api/orders/{id}/` | –î–∞ | –ù–µ—Ç | OrderItem, OrderStatusHistory |
| **–ö–ª–∏–µ–Ω—Ç** | `DELETE /api/customers/{id}/` | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑–æ–≤ | CustomerNote |
| **–†–∞—Å—Ö–æ–¥** | `DELETE /api/expenses/{id}/` | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è | –ù–µ—Ç | –ù–µ—Ç |
| **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è** | `DELETE /api/cash-transactions/{id}/` | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑–∞ | –ù–µ—Ç |

---

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —É–¥–∞–ª–µ–Ω–∏–π

### Docker
```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose -f docker-compose.dev.yml logs -f backend

# –¢–æ–ª—å–∫–æ —É–¥–∞–ª–µ–Ω–∏—è
docker-compose -f docker-compose.dev.yml logs backend | grep "–£–¥–∞–ª–µ–Ω–∏–µ"

# –¢–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
docker-compose -f docker-compose.dev.yml logs backend | grep "WARNING"
```

### –õ–æ–∫–∞–ª—å–Ω–æ
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Django
tail -f logs/django.log | grep "–£–¥–∞–ª–µ–Ω–∏–µ"
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**

```python
# backend/orders/views.py
class OrderViewSet(viewsets.ModelViewSet):
    def get_permissions(self):
        if self.action == 'destroy':
            return [IsAdminUser()]  # –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
        return super().get_permissions()
```

### 2. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü–µ—Ä–µ–¥ –º–∞—Å—Å–æ–≤—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–æ–∑–¥–∞–π—Ç–µ backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
# PostgreSQL backup
docker-compose exec db pg_dump -U postgres gooddrive > backup_$(date +%Y%m%d).sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
docker-compose exec -T db psql -U postgres gooddrive < backup_20251111.sql
```

### 3. –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–∫–∞–∑–æ–≤ - –æ–Ω–∏ —É–¥–∞–ª—è—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞
- –ò—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤
- –°–≤—è–∑–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ CASCADE)

### 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ CRM
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
- –û–±—â–∞—è —Å—É–º–º–∞ –ø–æ–∫—É–ø–æ–∫
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫–∞–∑–∞
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞

### 5. –ë–∞–ª–∞–Ω—Å –∫–∞—Å—Å—ã
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–ª–∞–Ω—Å –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è

### 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑
```bash
curl -X POST http://localhost:8000/api/orders/ \
  -H "Content-Type: application/json" \
  -d '{
    "customer_name": "–¢–µ—Å—Ç",
    "customer_phone": "+79999999999",
    "customer_email": "test@test.com",
    "delivery_city": "–ú–æ—Å–∫–≤–∞",
    "delivery_address": "–¢–µ—Å—Ç–æ–≤–∞—è —É–ª., 1",
    "items": [
      {
        "part": 1,
        "quantity": 1,
        "unit_price": 1000
      }
    ],
    "total_amount": 1000
  }'
```

### 2. –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑
```bash
curl -X DELETE http://localhost:8000/api/orders/1/ \
  -H "Authorization: Token YOUR_TOKEN"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
docker-compose -f docker-compose.dev.yml logs backend | grep "–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞"
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å–ª–∏ –ª–æ–≥–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django:

```python
# backend/gooddrive_backend/settings.py
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'handlers': {
        'console': {
            'class': 'logging.StreamHandler',
        },
        'file': {
            'class': 'logging.FileHandler',
            'filename': 'logs/django.log',
        },
    },
    'loggers': {
        'orders': {
            'handlers': ['console', 'file'],
            'level': 'WARNING',
        },
        'crm': {
            'handlers': ['console', 'file'],
            'level': 'WARNING',
        },
        'finance': {
            'handlers': ['console', 'file'],
            'level': 'WARNING',
        },
    },
}
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- [ ] –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∑–∞–∫–∞–∑–æ–≤
- [ ] –î–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç —Å–≤—è–∑–∏ —Å –∑–∞–∫–∞–∑–æ–º
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ CRM –æ–±–Ω–æ–≤–∏–ª–∞—Å—å (–¥–ª—è –∑–∞–∫–∞–∑–æ–≤)
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∫–∞—Å—Å—ã (–¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

---

## üÜò –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ:

### 1. –ò–∑ backup
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—é –±–∞–∑—É
docker-compose exec -T db psql -U postgres gooddrive < backup_20251111.sql
```

### 2. –ò–∑ –ª–æ–≥–æ–≤ (—á–∞—Å—Ç–∏—á–Ω–æ)
–õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö - –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏–ª–∏ API.

### 3. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
–ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ CRM](crm_sync_guide.md)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤](frontend_orders_api.md)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏](../README_ADMIN.md)

---

## ‚úÖ –ò—Ç–æ–≥–∏

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è:
- ‚úÖ –ó–∞–∫–∞–∑—ã —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º CRM
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –†–∞—Å—Ö–æ–¥—ã —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–≤—è–∑–µ–π –∏ –ø–µ—Ä–µ—Å—á–µ—Ç–æ–º –±–∞–ª–∞–Ω—Å–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã (—á–µ—Ä–µ–∑ backup)

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ CRM
- ‚úÖ –ü–µ—Ä–µ—Å—á–µ—Ç –±–∞–ª–∞–Ω—Å–∞ –∫–∞—Å—Å—ã
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**–°–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!** üöÄ

